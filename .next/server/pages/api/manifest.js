"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/manifest";
exports.ids = ["pages/api/manifest"];
exports.modules = {

/***/ "form-data":
/*!****************************!*\
  !*** external "form-data" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("form-data");

/***/ }),

/***/ "mime":
/*!***********************!*\
  !*** external "mime" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("mime");

/***/ }),

/***/ "structured-headers":
/*!*************************************!*\
  !*** external "structured-headers" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("structured-headers");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./common/helpers.ts":
/*!***************************!*\
  !*** ./common/helpers.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NoUpdateAvailableError\": () => (/* binding */ NoUpdateAvailableError),\n/* harmony export */   \"convertSHA256HashToUUID\": () => (/* binding */ convertSHA256HashToUUID),\n/* harmony export */   \"convertToDictionaryItemsRepresentation\": () => (/* binding */ convertToDictionaryItemsRepresentation),\n/* harmony export */   \"createNoUpdateAvailableDirectiveAsync\": () => (/* binding */ createNoUpdateAvailableDirectiveAsync),\n/* harmony export */   \"createRollBackDirectiveAsync\": () => (/* binding */ createRollBackDirectiveAsync),\n/* harmony export */   \"getAssetMetadataAsync\": () => (/* binding */ getAssetMetadataAsync),\n/* harmony export */   \"getExpoConfigAsync\": () => (/* binding */ getExpoConfigAsync),\n/* harmony export */   \"getLatestUpdateBundlePathForRuntimeVersionAsync\": () => (/* binding */ getLatestUpdateBundlePathForRuntimeVersionAsync),\n/* harmony export */   \"getMetadataAsync\": () => (/* binding */ getMetadataAsync),\n/* harmony export */   \"getPrivateKeyAsync\": () => (/* binding */ getPrivateKeyAsync),\n/* harmony export */   \"signRSASHA256\": () => (/* binding */ signRSASHA256),\n/* harmony export */   \"truthy\": () => (/* binding */ truthy)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var mime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mime */ \"mime\");\n/* harmony import */ var mime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nclass NoUpdateAvailableError extends Error {\n}\nfunction createHash(file, hashingAlgorithm, encoding) {\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash(hashingAlgorithm).update(file).digest(encoding);\n}\nfunction getBase64URLEncoding(base64EncodedString) {\n    return base64EncodedString.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n}\nfunction convertToDictionaryItemsRepresentation(obj) {\n    return new Map(Object.entries(obj).map(([k, v])=>{\n        return [\n            k,\n            [\n                v,\n                new Map()\n            ]\n        ];\n    }));\n}\nfunction signRSASHA256(data, privateKey) {\n    const sign = crypto__WEBPACK_IMPORTED_MODULE_0___default().createSign(\"RSA-SHA256\");\n    sign.update(data, \"utf8\");\n    sign.end();\n    return sign.sign(privateKey, \"base64\");\n}\nasync function getPrivateKeyAsync() {\n    const privateKeyPath = process.env.PRIVATE_KEY_PATH;\n    if (!privateKeyPath) {\n        return null;\n    }\n    const pemBuffer = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().readFile(path__WEBPACK_IMPORTED_MODULE_4___default().resolve(privateKeyPath));\n    return pemBuffer.toString(\"utf8\");\n}\nasync function getLatestUpdateBundlePathForRuntimeVersionAsync(runtimeVersion) {\n    const updatesDirectoryForRuntimeVersion = `updates/${runtimeVersion}`;\n    if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(updatesDirectoryForRuntimeVersion)) {\n        throw new Error(\"Unsupported runtime version\");\n    }\n    const filesInUpdatesDirectory = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().readdir(updatesDirectoryForRuntimeVersion);\n    const directoriesInUpdatesDirectory = (await Promise.all(filesInUpdatesDirectory.map(async (file)=>{\n        const fileStat = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().stat(path__WEBPACK_IMPORTED_MODULE_4___default().join(updatesDirectoryForRuntimeVersion, file));\n        return fileStat.isDirectory() ? file : null;\n    }))).filter(truthy).sort((a, b)=>parseInt(b, 10) - parseInt(a, 10));\n    return path__WEBPACK_IMPORTED_MODULE_4___default().join(updatesDirectoryForRuntimeVersion, directoriesInUpdatesDirectory[0]);\n}\nasync function getAssetMetadataAsync(arg) {\n    const assetFilePath = `${arg.updateBundlePath}/${arg.filePath}`;\n    const asset = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().readFile(path__WEBPACK_IMPORTED_MODULE_4___default().resolve(assetFilePath), null);\n    const assetHash = getBase64URLEncoding(createHash(asset, \"sha256\", \"base64\"));\n    const key = createHash(asset, \"md5\", \"hex\");\n    const keyExtensionSuffix = arg.isLaunchAsset ? \"bundle\" : arg.ext;\n    const contentType = arg.isLaunchAsset ? \"application/javascript\" : mime__WEBPACK_IMPORTED_MODULE_3___default().getType(arg.ext);\n    return {\n        hash: assetHash,\n        key,\n        fileExtension: `.${keyExtensionSuffix}`,\n        contentType,\n        url: `${process.env.HOSTNAME}/api/assets?asset=${assetFilePath}&runtimeVersion=${arg.runtimeVersion}&platform=${arg.platform}`\n    };\n}\nasync function createRollBackDirectiveAsync(updateBundlePath) {\n    try {\n        const rollbackFilePath = `${updateBundlePath}/rollback`;\n        const rollbackFileStat = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().stat(rollbackFilePath);\n        return {\n            type: \"rollBackToEmbedded\",\n            parameters: {\n                commitTime: new Date(rollbackFileStat.birthtime).toISOString()\n            }\n        };\n    } catch (error) {\n        throw new Error(`No rollback found. Error: ${error}`);\n    }\n}\nasync function createNoUpdateAvailableDirectiveAsync() {\n    return {\n        type: \"noUpdateAvailable\"\n    };\n}\nasync function getMetadataAsync({ updateBundlePath , runtimeVersion  }) {\n    try {\n        const metadataPath = `${updateBundlePath}/metadata.json`;\n        const updateMetadataBuffer = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().readFile(path__WEBPACK_IMPORTED_MODULE_4___default().resolve(metadataPath), null);\n        const metadataJson = JSON.parse(updateMetadataBuffer.toString(\"utf-8\"));\n        const metadataStat = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().stat(metadataPath);\n        return {\n            metadataJson,\n            createdAt: new Date(metadataStat.birthtime).toISOString(),\n            id: createHash(updateMetadataBuffer, \"sha256\", \"hex\")\n        };\n    } catch (error) {\n        throw new Error(`No update found with runtime version: ${runtimeVersion}. Error: ${error}`);\n    }\n}\n/**\n * This adds the `@expo/config`-exported config to `extra.expoConfig`, which is a common thing\n * done by implementors of the expo-updates specification since a lot of Expo modules use it.\n * It is not required by the specification, but is included here in the example client and server\n * for demonstration purposes. EAS Update does something conceptually very similar.\n */ async function getExpoConfigAsync({ updateBundlePath , runtimeVersion  }) {\n    try {\n        const expoConfigPath = `${updateBundlePath}/expoConfig.json`;\n        const expoConfigBuffer = await fs_promises__WEBPACK_IMPORTED_MODULE_2___default().readFile(path__WEBPACK_IMPORTED_MODULE_4___default().resolve(expoConfigPath), null);\n        const expoConfigJson = JSON.parse(expoConfigBuffer.toString(\"utf-8\"));\n        return expoConfigJson;\n    } catch (error) {\n        throw new Error(`No expo config json found with runtime version: ${runtimeVersion}. Error: ${error}`);\n    }\n}\nfunction convertSHA256HashToUUID(value) {\n    return `${value.slice(0, 8)}-${value.slice(8, 12)}-${value.slice(12, 16)}-${value.slice(16, 20)}-${value.slice(20, 32)}`;\n}\nfunction truthy(value) {\n    return !!value;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxDQUFDLENBQUMsRUFBRUQsS0FBSyxDQUFDQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRUQsS0FBSyxDQUFDQyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRUQsS0FBSyxDQUFDQyxLQUFLLENBQ3JGLEVBQUUsRUFDRixFQUFFLENBQ0gsQ0FBQyxDQUFDLEVBQUVELEtBQUssQ0FBQ0MsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDN0IsQ0FBQztBQUVNLFNBQVNqRCxNQUFNLENBQVNnRCxLQUFnQyxFQUFtQjtJQUNoRixPQUFPLENBQUMsQ0FBQ0EsS0FBSyxDQUFDO0FBQ2pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jdXN0b20tZXhwby11cGRhdGVzLXNlcnZlci8uL2NvbW1vbi9oZWxwZXJzLnRzP2E5NzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0bywgeyBCaW5hcnlUb1RleHRFbmNvZGluZyB9IGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgZnNTeW5jIGZyb20gJ2ZzJztcbmltcG9ydCBmcyBmcm9tICdmcy9wcm9taXNlcyc7XG5pbXBvcnQgbWltZSBmcm9tICdtaW1lJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgRGljdGlvbmFyeSB9IGZyb20gJ3N0cnVjdHVyZWQtaGVhZGVycyc7XG5cbmV4cG9ydCBjbGFzcyBOb1VwZGF0ZUF2YWlsYWJsZUVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZnVuY3Rpb24gY3JlYXRlSGFzaChmaWxlOiBCdWZmZXIsIGhhc2hpbmdBbGdvcml0aG06IHN0cmluZywgZW5jb2Rpbmc6IEJpbmFyeVRvVGV4dEVuY29kaW5nKSB7XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaChoYXNoaW5nQWxnb3JpdGhtKS51cGRhdGUoZmlsZSkuZGlnZXN0KGVuY29kaW5nKTtcbn1cblxuZnVuY3Rpb24gZ2V0QmFzZTY0VVJMRW5jb2RpbmcoYmFzZTY0RW5jb2RlZFN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGJhc2U2NEVuY29kZWRTdHJpbmcucmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJykucmVwbGFjZSgvPSskLywgJycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvRGljdGlvbmFyeUl0ZW1zUmVwcmVzZW50YXRpb24ob2JqOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9KTogRGljdGlvbmFyeSB7XG4gIHJldHVybiBuZXcgTWFwKFxuICAgIE9iamVjdC5lbnRyaWVzKG9iaikubWFwKChbaywgdl0pID0+IHtcbiAgICAgIHJldHVybiBbaywgW3YsIG5ldyBNYXAoKV1dO1xuICAgIH0pXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduUlNBU0hBMjU2KGRhdGE6IHN0cmluZywgcHJpdmF0ZUtleTogc3RyaW5nKSB7XG4gIGNvbnN0IHNpZ24gPSBjcnlwdG8uY3JlYXRlU2lnbignUlNBLVNIQTI1NicpO1xuICBzaWduLnVwZGF0ZShkYXRhLCAndXRmOCcpO1xuICBzaWduLmVuZCgpO1xuICByZXR1cm4gc2lnbi5zaWduKHByaXZhdGVLZXksICdiYXNlNjQnKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByaXZhdGVLZXlBc3luYygpIHtcbiAgY29uc3QgcHJpdmF0ZUtleVBhdGggPSBwcm9jZXNzLmVudi5QUklWQVRFX0tFWV9QQVRIO1xuICBpZiAoIXByaXZhdGVLZXlQYXRoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBwZW1CdWZmZXIgPSBhd2FpdCBmcy5yZWFkRmlsZShwYXRoLnJlc29sdmUocHJpdmF0ZUtleVBhdGgpKTtcbiAgcmV0dXJuIHBlbUJ1ZmZlci50b1N0cmluZygndXRmOCcpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGF0ZXN0VXBkYXRlQnVuZGxlUGF0aEZvclJ1bnRpbWVWZXJzaW9uQXN5bmMocnVudGltZVZlcnNpb246IHN0cmluZykge1xuICBjb25zdCB1cGRhdGVzRGlyZWN0b3J5Rm9yUnVudGltZVZlcnNpb24gPSBgdXBkYXRlcy8ke3J1bnRpbWVWZXJzaW9ufWA7XG4gIGlmICghZnNTeW5jLmV4aXN0c1N5bmModXBkYXRlc0RpcmVjdG9yeUZvclJ1bnRpbWVWZXJzaW9uKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgcnVudGltZSB2ZXJzaW9uJyk7XG4gIH1cblxuICBjb25zdCBmaWxlc0luVXBkYXRlc0RpcmVjdG9yeSA9IGF3YWl0IGZzLnJlYWRkaXIodXBkYXRlc0RpcmVjdG9yeUZvclJ1bnRpbWVWZXJzaW9uKTtcbiAgY29uc3QgZGlyZWN0b3JpZXNJblVwZGF0ZXNEaXJlY3RvcnkgPSAoXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBmaWxlc0luVXBkYXRlc0RpcmVjdG9yeS5tYXAoYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgY29uc3QgZmlsZVN0YXQgPSBhd2FpdCBmcy5zdGF0KHBhdGguam9pbih1cGRhdGVzRGlyZWN0b3J5Rm9yUnVudGltZVZlcnNpb24sIGZpbGUpKTtcbiAgICAgICAgcmV0dXJuIGZpbGVTdGF0LmlzRGlyZWN0b3J5KCkgPyBmaWxlIDogbnVsbDtcbiAgICAgIH0pXG4gICAgKVxuICApXG4gICAgLmZpbHRlcih0cnV0aHkpXG4gICAgLnNvcnQoKGEsIGIpID0+IHBhcnNlSW50KGIsIDEwKSAtIHBhcnNlSW50KGEsIDEwKSk7XG4gIHJldHVybiBwYXRoLmpvaW4odXBkYXRlc0RpcmVjdG9yeUZvclJ1bnRpbWVWZXJzaW9uLCBkaXJlY3Rvcmllc0luVXBkYXRlc0RpcmVjdG9yeVswXSk7XG59XG5cbnR5cGUgR2V0QXNzZXRNZXRhZGF0YUFyZyA9XG4gIHwge1xuICAgICAgdXBkYXRlQnVuZGxlUGF0aDogc3RyaW5nO1xuICAgICAgZmlsZVBhdGg6IHN0cmluZztcbiAgICAgIGV4dDogbnVsbDtcbiAgICAgIGlzTGF1bmNoQXNzZXQ6IHRydWU7XG4gICAgICBydW50aW1lVmVyc2lvbjogc3RyaW5nO1xuICAgICAgcGxhdGZvcm06IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdXBkYXRlQnVuZGxlUGF0aDogc3RyaW5nO1xuICAgICAgZmlsZVBhdGg6IHN0cmluZztcbiAgICAgIGV4dDogc3RyaW5nO1xuICAgICAgaXNMYXVuY2hBc3NldDogZmFsc2U7XG4gICAgICBydW50aW1lVmVyc2lvbjogc3RyaW5nO1xuICAgICAgcGxhdGZvcm06IHN0cmluZztcbiAgICB9O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXNzZXRNZXRhZGF0YUFzeW5jKGFyZzogR2V0QXNzZXRNZXRhZGF0YUFyZykge1xuICBjb25zdCBhc3NldEZpbGVQYXRoID0gYCR7YXJnLnVwZGF0ZUJ1bmRsZVBhdGh9LyR7YXJnLmZpbGVQYXRofWA7XG4gIGNvbnN0IGFzc2V0ID0gYXdhaXQgZnMucmVhZEZpbGUocGF0aC5yZXNvbHZlKGFzc2V0RmlsZVBhdGgpLCBudWxsKTtcbiAgY29uc3QgYXNzZXRIYXNoID0gZ2V0QmFzZTY0VVJMRW5jb2RpbmcoY3JlYXRlSGFzaChhc3NldCwgJ3NoYTI1NicsICdiYXNlNjQnKSk7XG4gIGNvbnN0IGtleSA9IGNyZWF0ZUhhc2goYXNzZXQsICdtZDUnLCAnaGV4Jyk7XG4gIGNvbnN0IGtleUV4dGVuc2lvblN1ZmZpeCA9IGFyZy5pc0xhdW5jaEFzc2V0ID8gJ2J1bmRsZScgOiBhcmcuZXh0O1xuICBjb25zdCBjb250ZW50VHlwZSA9IGFyZy5pc0xhdW5jaEFzc2V0ID8gJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnIDogbWltZS5nZXRUeXBlKGFyZy5leHQpO1xuXG4gIHJldHVybiB7XG4gICAgaGFzaDogYXNzZXRIYXNoLFxuICAgIGtleSxcbiAgICBmaWxlRXh0ZW5zaW9uOiBgLiR7a2V5RXh0ZW5zaW9uU3VmZml4fWAsXG4gICAgY29udGVudFR5cGUsXG4gICAgdXJsOiBgJHtwcm9jZXNzLmVudi5IT1NUTkFNRX0vYXBpL2Fzc2V0cz9hc3NldD0ke2Fzc2V0RmlsZVBhdGh9JnJ1bnRpbWVWZXJzaW9uPSR7YXJnLnJ1bnRpbWVWZXJzaW9ufSZwbGF0Zm9ybT0ke2FyZy5wbGF0Zm9ybX1gLFxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUm9sbEJhY2tEaXJlY3RpdmVBc3luYyh1cGRhdGVCdW5kbGVQYXRoOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByb2xsYmFja0ZpbGVQYXRoID0gYCR7dXBkYXRlQnVuZGxlUGF0aH0vcm9sbGJhY2tgO1xuICAgIGNvbnN0IHJvbGxiYWNrRmlsZVN0YXQgPSBhd2FpdCBmcy5zdGF0KHJvbGxiYWNrRmlsZVBhdGgpO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAncm9sbEJhY2tUb0VtYmVkZGVkJyxcbiAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgY29tbWl0VGltZTogbmV3IERhdGUocm9sbGJhY2tGaWxlU3RhdC5iaXJ0aHRpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9LFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBObyByb2xsYmFjayBmb3VuZC4gRXJyb3I6ICR7ZXJyb3J9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5vVXBkYXRlQXZhaWxhYmxlRGlyZWN0aXZlQXN5bmMoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ25vVXBkYXRlQXZhaWxhYmxlJyxcbiAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1ldGFkYXRhQXN5bmMoe1xuICB1cGRhdGVCdW5kbGVQYXRoLFxuICBydW50aW1lVmVyc2lvbixcbn06IHtcbiAgdXBkYXRlQnVuZGxlUGF0aDogc3RyaW5nO1xuICBydW50aW1lVmVyc2lvbjogc3RyaW5nO1xufSkge1xuICB0cnkge1xuICAgIGNvbnN0IG1ldGFkYXRhUGF0aCA9IGAke3VwZGF0ZUJ1bmRsZVBhdGh9L21ldGFkYXRhLmpzb25gO1xuICAgIGNvbnN0IHVwZGF0ZU1ldGFkYXRhQnVmZmVyID0gYXdhaXQgZnMucmVhZEZpbGUocGF0aC5yZXNvbHZlKG1ldGFkYXRhUGF0aCksIG51bGwpO1xuICAgIGNvbnN0IG1ldGFkYXRhSnNvbiA9IEpTT04ucGFyc2UodXBkYXRlTWV0YWRhdGFCdWZmZXIudG9TdHJpbmcoJ3V0Zi04JykpO1xuICAgIGNvbnN0IG1ldGFkYXRhU3RhdCA9IGF3YWl0IGZzLnN0YXQobWV0YWRhdGFQYXRoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBtZXRhZGF0YUpzb24sXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKG1ldGFkYXRhU3RhdC5iaXJ0aHRpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICBpZDogY3JlYXRlSGFzaCh1cGRhdGVNZXRhZGF0YUJ1ZmZlciwgJ3NoYTI1NicsICdoZXgnKSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgTm8gdXBkYXRlIGZvdW5kIHdpdGggcnVudGltZSB2ZXJzaW9uOiAke3J1bnRpbWVWZXJzaW9ufS4gRXJyb3I6ICR7ZXJyb3J9YCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGFkZHMgdGhlIGBAZXhwby9jb25maWdgLWV4cG9ydGVkIGNvbmZpZyB0byBgZXh0cmEuZXhwb0NvbmZpZ2AsIHdoaWNoIGlzIGEgY29tbW9uIHRoaW5nXG4gKiBkb25lIGJ5IGltcGxlbWVudG9ycyBvZiB0aGUgZXhwby11cGRhdGVzIHNwZWNpZmljYXRpb24gc2luY2UgYSBsb3Qgb2YgRXhwbyBtb2R1bGVzIHVzZSBpdC5cbiAqIEl0IGlzIG5vdCByZXF1aXJlZCBieSB0aGUgc3BlY2lmaWNhdGlvbiwgYnV0IGlzIGluY2x1ZGVkIGhlcmUgaW4gdGhlIGV4YW1wbGUgY2xpZW50IGFuZCBzZXJ2ZXJcbiAqIGZvciBkZW1vbnN0cmF0aW9uIHB1cnBvc2VzLiBFQVMgVXBkYXRlIGRvZXMgc29tZXRoaW5nIGNvbmNlcHR1YWxseSB2ZXJ5IHNpbWlsYXIuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFeHBvQ29uZmlnQXN5bmMoe1xuICB1cGRhdGVCdW5kbGVQYXRoLFxuICBydW50aW1lVmVyc2lvbixcbn06IHtcbiAgdXBkYXRlQnVuZGxlUGF0aDogc3RyaW5nO1xuICBydW50aW1lVmVyc2lvbjogc3RyaW5nO1xufSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXhwb0NvbmZpZ1BhdGggPSBgJHt1cGRhdGVCdW5kbGVQYXRofS9leHBvQ29uZmlnLmpzb25gO1xuICAgIGNvbnN0IGV4cG9Db25maWdCdWZmZXIgPSBhd2FpdCBmcy5yZWFkRmlsZShwYXRoLnJlc29sdmUoZXhwb0NvbmZpZ1BhdGgpLCBudWxsKTtcbiAgICBjb25zdCBleHBvQ29uZmlnSnNvbiA9IEpTT04ucGFyc2UoZXhwb0NvbmZpZ0J1ZmZlci50b1N0cmluZygndXRmLTgnKSk7XG4gICAgcmV0dXJuIGV4cG9Db25maWdKc29uO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBObyBleHBvIGNvbmZpZyBqc29uIGZvdW5kIHdpdGggcnVudGltZSB2ZXJzaW9uOiAke3J1bnRpbWVWZXJzaW9ufS4gRXJyb3I6ICR7ZXJyb3J9YFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTSEEyNTZIYXNoVG9VVUlEKHZhbHVlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGAke3ZhbHVlLnNsaWNlKDAsIDgpfS0ke3ZhbHVlLnNsaWNlKDgsIDEyKX0tJHt2YWx1ZS5zbGljZSgxMiwgMTYpfS0ke3ZhbHVlLnNsaWNlKFxuICAgIDE2LFxuICAgIDIwXG4gICl9LSR7dmFsdWUuc2xpY2UoMjAsIDMyKX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJ1dGh5PFRWYWx1ZT4odmFsdWU6IFRWYWx1ZSB8IG51bGwgfCB1bmRlZmluZWQpOiB2YWx1ZSBpcyBUVmFsdWUge1xuICByZXR1cm4gISF2YWx1ZTtcbn1cbiJdLCJuYW1lcyI6WyJjcnlwdG8iLCJmc1N5bmMiLCJmcyIsIm1pbWUiLCJwYXRoIiwiTm9VcGRhdGVBdmFpbGFibGVFcnJvciIsIkVycm9yIiwiY3JlYXRlSGFzaCIsImZpbGUiLCJoYXNoaW5nQWxnb3JpdGhtIiwiZW5jb2RpbmciLCJ1cGRhdGUiLCJkaWdlc3QiLCJnZXRCYXNlNjRVUkxFbmNvZGluZyIsImJhc2U2NEVuY29kZWRTdHJpbmciLCJyZXBsYWNlIiwiY29udmVydFRvRGljdGlvbmFyeUl0ZW1zUmVwcmVzZW50YXRpb24iLCJvYmoiLCJNYXAiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiayIsInYiLCJzaWduUlNBU0hBMjU2IiwiZGF0YSIsInByaXZhdGVLZXkiLCJzaWduIiwiY3JlYXRlU2lnbiIsImVuZCIsImdldFByaXZhdGVLZXlBc3luYyIsInByaXZhdGVLZXlQYXRoIiwicHJvY2VzcyIsImVudiIsIlBSSVZBVEVfS0VZX1BBVEgiLCJwZW1CdWZmZXIiLCJyZWFkRmlsZSIsInJlc29sdmUiLCJ0b1N0cmluZyIsImdldExhdGVzdFVwZGF0ZUJ1bmRsZVBhdGhGb3JSdW50aW1lVmVyc2lvbkFzeW5jIiwicnVudGltZVZlcnNpb24iLCJ1cGRhdGVzRGlyZWN0b3J5Rm9yUnVudGltZVZlcnNpb24iLCJleGlzdHNTeW5jIiwiZmlsZXNJblVwZGF0ZXNEaXJlY3RvcnkiLCJyZWFkZGlyIiwiZGlyZWN0b3JpZXNJblVwZGF0ZXNEaXJlY3RvcnkiLCJQcm9taXNlIiwiYWxsIiwiZmlsZVN0YXQiLCJzdGF0Iiwiam9pbiIsImlzRGlyZWN0b3J5IiwiZmlsdGVyIiwidHJ1dGh5Iiwic29ydCIsImEiLCJiIiwicGFyc2VJbnQiLCJnZXRBc3NldE1ldGFkYXRhQXN5bmMiLCJhcmciLCJhc3NldEZpbGVQYXRoIiwidXBkYXRlQnVuZGxlUGF0aCIsImZpbGVQYXRoIiwiYXNzZXQiLCJhc3NldEhhc2giLCJrZXkiLCJrZXlFeHRlbnNpb25TdWZmaXgiLCJpc0xhdW5jaEFzc2V0IiwiZXh0IiwiY29udGVudFR5cGUiLCJnZXRUeXBlIiwiaGFzaCIsImZpbGVFeHRlbnNpb24iLCJ1cmwiLCJIT1NUTkFNRSIsInBsYXRmb3JtIiwiY3JlYXRlUm9sbEJhY2tEaXJlY3RpdmVBc3luYyIsInJvbGxiYWNrRmlsZVBhdGgiLCJyb2xsYmFja0ZpbGVTdGF0IiwidHlwZSIsInBhcmFtZXRlcnMiLCJjb21taXRUaW1lIiwiRGF0ZSIsImJpcnRodGltZSIsInRvSVNPU3RyaW5nIiwiZXJyb3IiLCJjcmVhdGVOb1VwZGF0ZUF2YWlsYWJsZURpcmVjdGl2ZUFzeW5jIiwiZ2V0TWV0YWRhdGFBc3luYyIsIm1ldGFkYXRhUGF0aCIsInVwZGF0ZU1ldGFkYXRhQnVmZmVyIiwibWV0YWRhdGFKc29uIiwiSlNPTiIsInBhcnNlIiwibWV0YWRhdGFTdGF0IiwiY3JlYXRlZEF0IiwiaWQiLCJnZXRFeHBvQ29uZmlnQXN5bmMiLCJleHBvQ29uZmlnUGF0aCIsImV4cG9Db25maWdCdWZmZXIiLCJleHBvQ29uZmlnSnNvbiIsImNvbnZlcnRTSEEyNTZIYXNoVG9VVUlEIiwidmFsdWUiLCJzbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./common/helpers.ts\n");

/***/ }),

/***/ "(api)/./pages/api/manifest.ts":
/*!*******************************!*\
  !*** ./pages/api/manifest.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ manifestEndpoint)\n/* harmony export */ });\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! form-data */ \"form-data\");\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(form_data__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var structured_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! structured-headers */ \"structured-headers\");\n/* harmony import */ var structured_headers__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(structured_headers__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/helpers */ \"(api)/./common/helpers.ts\");\n\n\n\n\nasync function manifestEndpoint(req, res) {\n    if (req.method !== \"GET\") {\n        res.statusCode = 405;\n        res.json({\n            error: \"Expected GET.\"\n        });\n        return;\n    }\n    const protocolVersionMaybeArray = req.headers[\"expo-protocol-version\"];\n    if (protocolVersionMaybeArray && Array.isArray(protocolVersionMaybeArray)) {\n        res.statusCode = 400;\n        res.json({\n            error: \"Unsupported protocol version. Expected either 0 or 1.\"\n        });\n        return;\n    }\n    const protocolVersion = parseInt(protocolVersionMaybeArray ?? \"0\", 10);\n    const platform = req.headers[\"expo-platform\"] ?? req.query[\"platform\"];\n    if (platform !== \"ios\" && platform !== \"android\") {\n        res.statusCode = 400;\n        res.json({\n            error: \"Unsupported platform. Expected either ios or android.\"\n        });\n        return;\n    }\n    const runtimeVersion = req.headers[\"expo-runtime-version\"] ?? req.query[\"runtime-version\"];\n    if (!runtimeVersion || typeof runtimeVersion !== \"string\") {\n        res.statusCode = 400;\n        res.json({\n            error: \"No runtimeVersion provided.\"\n        });\n        return;\n    }\n    let updateBundlePath;\n    try {\n        updateBundlePath = await (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.getLatestUpdateBundlePathForRuntimeVersionAsync)(runtimeVersion);\n    } catch (error) {\n        res.statusCode = 404;\n        res.json({\n            error: error.message\n        });\n        return;\n    }\n    const updateType = await getTypeOfUpdateAsync(updateBundlePath);\n    try {\n        try {\n            if (updateType === UpdateType.NORMAL_UPDATE) {\n                await putUpdateInResponseAsync(req, res, updateBundlePath, runtimeVersion, platform, protocolVersion);\n            } else if (updateType === UpdateType.ROLLBACK) {\n                await putRollBackInResponseAsync(req, res, updateBundlePath, protocolVersion);\n            }\n        } catch (maybeNoUpdateAvailableError) {\n            if (maybeNoUpdateAvailableError instanceof _common_helpers__WEBPACK_IMPORTED_MODULE_3__.NoUpdateAvailableError) {\n                await putNoUpdateAvailableInResponseAsync(req, res, protocolVersion);\n                return;\n            }\n            throw maybeNoUpdateAvailableError;\n        }\n    } catch (error1) {\n        console.error(error1);\n        res.statusCode = 404;\n        res.json({\n            error: error1\n        });\n    }\n}\nvar UpdateType;\n(function(UpdateType) {\n    UpdateType[UpdateType[\"NORMAL_UPDATE\"] = 0] = \"NORMAL_UPDATE\";\n    UpdateType[UpdateType[\"ROLLBACK\"] = 1] = \"ROLLBACK\";\n})(UpdateType || (UpdateType = {}));\nasync function getTypeOfUpdateAsync(updateBundlePath) {\n    const directoryContents = await fs_promises__WEBPACK_IMPORTED_MODULE_1___default().readdir(updateBundlePath);\n    return directoryContents.includes(\"rollback\") ? UpdateType.ROLLBACK : UpdateType.NORMAL_UPDATE;\n}\nasync function putUpdateInResponseAsync(req, res, updateBundlePath, runtimeVersion, platform, protocolVersion) {\n    const currentUpdateId = req.headers[\"expo-current-update-id\"];\n    const { metadataJson , createdAt , id  } = await (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.getMetadataAsync)({\n        updateBundlePath,\n        runtimeVersion\n    });\n    // NoUpdateAvailable directive only supported on protocol version 1\n    // for protocol version 0, serve most recent update as normal\n    if (currentUpdateId === id && protocolVersion === 1) {\n        throw new _common_helpers__WEBPACK_IMPORTED_MODULE_3__.NoUpdateAvailableError();\n    }\n    const expoConfig = await (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.getExpoConfigAsync)({\n        updateBundlePath,\n        runtimeVersion\n    });\n    const platformSpecificMetadata = metadataJson.fileMetadata[platform];\n    const manifest = {\n        id: (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.convertSHA256HashToUUID)(id),\n        createdAt,\n        runtimeVersion,\n        assets: await Promise.all(platformSpecificMetadata.assets.map((asset)=>(0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.getAssetMetadataAsync)({\n                updateBundlePath,\n                filePath: asset.path,\n                ext: asset.ext,\n                runtimeVersion,\n                platform,\n                isLaunchAsset: false\n            }))),\n        launchAsset: await (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.getAssetMetadataAsync)({\n            updateBundlePath,\n            filePath: platformSpecificMetadata.bundle,\n            isLaunchAsset: true,\n            runtimeVersion,\n            platform,\n            ext: null\n        }),\n        metadata: {},\n        extra: {\n            expoClient: expoConfig\n        }\n    };\n    let signature = null;\n    const expectSignatureHeader = req.headers[\"expo-expect-signature\"];\n    if (expectSignatureHeader) {\n        const privateKey = await (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.getPrivateKeyAsync)();\n        if (!privateKey) {\n            res.statusCode = 400;\n            res.json({\n                error: \"Code signing requested but no key supplied when starting server.\"\n            });\n            return;\n        }\n        const manifestString = JSON.stringify(manifest);\n        const hashSignature = (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.signRSASHA256)(manifestString, privateKey);\n        const dictionary = (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.convertToDictionaryItemsRepresentation)({\n            sig: hashSignature,\n            keyid: \"main\"\n        });\n        signature = (0,structured_headers__WEBPACK_IMPORTED_MODULE_2__.serializeDictionary)(dictionary);\n    }\n    const assetRequestHeaders = {};\n    [\n        ...manifest.assets,\n        manifest.launchAsset\n    ].forEach((asset)=>{\n        assetRequestHeaders[asset.key] = {\n            \"test-header\": \"test-header-value\"\n        };\n    });\n    const form = new (form_data__WEBPACK_IMPORTED_MODULE_0___default())();\n    form.append(\"manifest\", JSON.stringify(manifest), {\n        contentType: \"application/json\",\n        header: {\n            \"content-type\": \"application/json; charset=utf-8\",\n            ...signature ? {\n                \"expo-signature\": signature\n            } : {}\n        }\n    });\n    form.append(\"extensions\", JSON.stringify({\n        assetRequestHeaders\n    }), {\n        contentType: \"application/json\"\n    });\n    res.statusCode = 200;\n    res.setHeader(\"expo-protocol-version\", protocolVersion);\n    res.setHeader(\"expo-sfv-version\", 0);\n    res.setHeader(\"cache-control\", \"private, max-age=0\");\n    res.setHeader(\"content-type\", `multipart/mixed; boundary=${form.getBoundary()}`);\n    res.write(form.getBuffer());\n    res.end();\n}\nasync function putRollBackInResponseAsync(req, res, updateBundlePath, protocolVersion) {\n    if (protocolVersion === 0) {\n        throw new Error(\"Rollbacks not supported on protocol version 0\");\n    }\n    const embeddedUpdateId = req.headers[\"expo-embedded-update-id\"];\n    if (!embeddedUpdateId || typeof embeddedUpdateId !== \"string\") {\n        throw new Error(\"Invalid Expo-Embedded-Update-ID request header specified.\");\n    }\n    const currentUpdateId = req.headers[\"expo-current-update-id\"];\n    if (currentUpdateId === embeddedUpdateId) {\n        throw new _common_helpers__WEBPACK_IMPORTED_MODULE_3__.NoUpdateAvailableError();\n    }\n    const directive = await (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.createRollBackDirectiveAsync)(updateBundlePath);\n    let signature = null;\n    const expectSignatureHeader = req.headers[\"expo-expect-signature\"];\n    if (expectSignatureHeader) {\n        const privateKey = await (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.getPrivateKeyAsync)();\n        if (!privateKey) {\n            res.statusCode = 400;\n            res.json({\n                error: \"Code signing requested but no key supplied when starting server.\"\n            });\n            return;\n        }\n        const directiveString = JSON.stringify(directive);\n        const hashSignature = (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.signRSASHA256)(directiveString, privateKey);\n        const dictionary = (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.convertToDictionaryItemsRepresentation)({\n            sig: hashSignature,\n            keyid: \"main\"\n        });\n        signature = (0,structured_headers__WEBPACK_IMPORTED_MODULE_2__.serializeDictionary)(dictionary);\n    }\n    const form = new (form_data__WEBPACK_IMPORTED_MODULE_0___default())();\n    form.append(\"directive\", JSON.stringify(directive), {\n        contentType: \"application/json\",\n        header: {\n            \"content-type\": \"application/json; charset=utf-8\",\n            ...signature ? {\n                \"expo-signature\": signature\n            } : {}\n        }\n    });\n    res.statusCode = 200;\n    res.setHeader(\"expo-protocol-version\", 1);\n    res.setHeader(\"expo-sfv-version\", 0);\n    res.setHeader(\"cache-control\", \"private, max-age=0\");\n    res.setHeader(\"content-type\", `multipart/mixed; boundary=${form.getBoundary()}`);\n    res.write(form.getBuffer());\n    res.end();\n}\nasync function putNoUpdateAvailableInResponseAsync(req, res, protocolVersion) {\n    if (protocolVersion === 0) {\n        throw new Error(\"NoUpdateAvailable directive not available in protocol version 0\");\n    }\n    const directive = await (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.createNoUpdateAvailableDirectiveAsync)();\n    let signature = null;\n    const expectSignatureHeader = req.headers[\"expo-expect-signature\"];\n    if (expectSignatureHeader) {\n        const privateKey = await (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.getPrivateKeyAsync)();\n        if (!privateKey) {\n            res.statusCode = 400;\n            res.json({\n                error: \"Code signing requested but no key supplied when starting server.\"\n            });\n            return;\n        }\n        const directiveString = JSON.stringify(directive);\n        const hashSignature = (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.signRSASHA256)(directiveString, privateKey);\n        const dictionary = (0,_common_helpers__WEBPACK_IMPORTED_MODULE_3__.convertToDictionaryItemsRepresentation)({\n            sig: hashSignature,\n            keyid: \"main\"\n        });\n        signature = (0,structured_headers__WEBPACK_IMPORTED_MODULE_2__.serializeDictionary)(dictionary);\n    }\n    const form = new (form_data__WEBPACK_IMPORTED_MODULE_0___default())();\n    form.append(\"directive\", JSON.stringify(directive), {\n        contentType: \"application/json\",\n        header: {\n            \"content-type\": \"application/json; charset=utf-8\",\n            ...signature ? {\n                \"expo-signature\": signature\n            } : {}\n        }\n    });\n    res.statusCode = 200;\n    res.setHeader(\"expo-protocol-version\", 1);\n    res.setHeader(\"expo-sfv-version\", 0);\n    res.setHeader(\"cache-control\", \"private, max-age=0\");\n    res.setHeader(\"content-type\", `multipart/mixed; boundary=${form.getBoundary()}`);\n    res.write(form.getBuffer());\n    res.end();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBdUIsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxQ3BFLEdBQUcsQ0FBQ29FLFNBQVMsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyQ3BFLEdBQUcsQ0FBQ29FLFNBQVMsQ0FBQyxlQUFlLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztJQUNyRHBFLEdBQUcsQ0FBQ29FLFNBQVMsQ0FBQyxjQUFjLEVBQUUsQ0FBQywwQkFBMEIsRUFBRUosSUFBSSxDQUFDSyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRnJFLEdBQUcsQ0FBQ3NFLEtBQUssQ0FBQ04sSUFBSSxDQUFDTyxTQUFTLEVBQUUsQ0FBQyxDQUFDO0lBQzVCdkUsR0FBRyxDQUFDd0UsR0FBRyxFQUFFLENBQUM7QUFDWixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3VzdG9tLWV4cG8tdXBkYXRlcy1zZXJ2ZXIvLi9wYWdlcy9hcGkvbWFuaWZlc3QudHM/ODc5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRm9ybURhdGEgZnJvbSAnZm9ybS1kYXRhJztcbmltcG9ydCBmcyBmcm9tICdmcy9wcm9taXNlcyc7XG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBzZXJpYWxpemVEaWN0aW9uYXJ5IH0gZnJvbSAnc3RydWN0dXJlZC1oZWFkZXJzJztcblxuaW1wb3J0IHtcbiAgZ2V0QXNzZXRNZXRhZGF0YUFzeW5jLFxuICBnZXRNZXRhZGF0YUFzeW5jLFxuICBjb252ZXJ0U0hBMjU2SGFzaFRvVVVJRCxcbiAgY29udmVydFRvRGljdGlvbmFyeUl0ZW1zUmVwcmVzZW50YXRpb24sXG4gIHNpZ25SU0FTSEEyNTYsXG4gIGdldFByaXZhdGVLZXlBc3luYyxcbiAgZ2V0RXhwb0NvbmZpZ0FzeW5jLFxuICBnZXRMYXRlc3RVcGRhdGVCdW5kbGVQYXRoRm9yUnVudGltZVZlcnNpb25Bc3luYyxcbiAgY3JlYXRlUm9sbEJhY2tEaXJlY3RpdmVBc3luYyxcbiAgTm9VcGRhdGVBdmFpbGFibGVFcnJvcixcbiAgY3JlYXRlTm9VcGRhdGVBdmFpbGFibGVEaXJlY3RpdmVBc3luYyxcbn0gZnJvbSAnLi4vLi4vY29tbW9uL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBtYW5pZmVzdEVuZHBvaW50KHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xuICAgIHJlcy5zdGF0dXNDb2RlID0gNDA1O1xuICAgIHJlcy5qc29uKHsgZXJyb3I6ICdFeHBlY3RlZCBHRVQuJyB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBwcm90b2NvbFZlcnNpb25NYXliZUFycmF5ID0gcmVxLmhlYWRlcnNbJ2V4cG8tcHJvdG9jb2wtdmVyc2lvbiddO1xuICBpZiAocHJvdG9jb2xWZXJzaW9uTWF5YmVBcnJheSAmJiBBcnJheS5pc0FycmF5KHByb3RvY29sVmVyc2lvbk1heWJlQXJyYXkpKSB7XG4gICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgcmVzLmpzb24oe1xuICAgICAgZXJyb3I6ICdVbnN1cHBvcnRlZCBwcm90b2NvbCB2ZXJzaW9uLiBFeHBlY3RlZCBlaXRoZXIgMCBvciAxLicsXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHByb3RvY29sVmVyc2lvbiA9IHBhcnNlSW50KHByb3RvY29sVmVyc2lvbk1heWJlQXJyYXkgPz8gJzAnLCAxMCk7XG5cbiAgY29uc3QgcGxhdGZvcm0gPSByZXEuaGVhZGVyc1snZXhwby1wbGF0Zm9ybSddID8/IHJlcS5xdWVyeVsncGxhdGZvcm0nXTtcbiAgaWYgKHBsYXRmb3JtICE9PSAnaW9zJyAmJiBwbGF0Zm9ybSAhPT0gJ2FuZHJvaWQnKSB7XG4gICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgcmVzLmpzb24oe1xuICAgICAgZXJyb3I6ICdVbnN1cHBvcnRlZCBwbGF0Zm9ybS4gRXhwZWN0ZWQgZWl0aGVyIGlvcyBvciBhbmRyb2lkLicsXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcnVudGltZVZlcnNpb24gPSByZXEuaGVhZGVyc1snZXhwby1ydW50aW1lLXZlcnNpb24nXSA/PyByZXEucXVlcnlbJ3J1bnRpbWUtdmVyc2lvbiddO1xuICBpZiAoIXJ1bnRpbWVWZXJzaW9uIHx8IHR5cGVvZiBydW50aW1lVmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICByZXMuanNvbih7XG4gICAgICBlcnJvcjogJ05vIHJ1bnRpbWVWZXJzaW9uIHByb3ZpZGVkLicsXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHVwZGF0ZUJ1bmRsZVBhdGg6IHN0cmluZztcbiAgdHJ5IHtcbiAgICB1cGRhdGVCdW5kbGVQYXRoID0gYXdhaXQgZ2V0TGF0ZXN0VXBkYXRlQnVuZGxlUGF0aEZvclJ1bnRpbWVWZXJzaW9uQXN5bmMocnVudGltZVZlcnNpb24pO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgcmVzLmpzb24oe1xuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdXBkYXRlVHlwZSA9IGF3YWl0IGdldFR5cGVPZlVwZGF0ZUFzeW5jKHVwZGF0ZUJ1bmRsZVBhdGgpO1xuXG4gIHRyeSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh1cGRhdGVUeXBlID09PSBVcGRhdGVUeXBlLk5PUk1BTF9VUERBVEUpIHtcbiAgICAgICAgYXdhaXQgcHV0VXBkYXRlSW5SZXNwb25zZUFzeW5jKFxuICAgICAgICAgIHJlcSxcbiAgICAgICAgICByZXMsXG4gICAgICAgICAgdXBkYXRlQnVuZGxlUGF0aCxcbiAgICAgICAgICBydW50aW1lVmVyc2lvbixcbiAgICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgICBwcm90b2NvbFZlcnNpb25cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAodXBkYXRlVHlwZSA9PT0gVXBkYXRlVHlwZS5ST0xMQkFDSykge1xuICAgICAgICBhd2FpdCBwdXRSb2xsQmFja0luUmVzcG9uc2VBc3luYyhyZXEsIHJlcywgdXBkYXRlQnVuZGxlUGF0aCwgcHJvdG9jb2xWZXJzaW9uKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChtYXliZU5vVXBkYXRlQXZhaWxhYmxlRXJyb3IpIHtcbiAgICAgIGlmIChtYXliZU5vVXBkYXRlQXZhaWxhYmxlRXJyb3IgaW5zdGFuY2VvZiBOb1VwZGF0ZUF2YWlsYWJsZUVycm9yKSB7XG4gICAgICAgIGF3YWl0IHB1dE5vVXBkYXRlQXZhaWxhYmxlSW5SZXNwb25zZUFzeW5jKHJlcSwgcmVzLCBwcm90b2NvbFZlcnNpb24pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aHJvdyBtYXliZU5vVXBkYXRlQXZhaWxhYmxlRXJyb3I7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgIHJlcy5qc29uKHsgZXJyb3IgfSk7XG4gIH1cbn1cblxuZW51bSBVcGRhdGVUeXBlIHtcbiAgTk9STUFMX1VQREFURSxcbiAgUk9MTEJBQ0ssXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFR5cGVPZlVwZGF0ZUFzeW5jKHVwZGF0ZUJ1bmRsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8VXBkYXRlVHlwZT4ge1xuICBjb25zdCBkaXJlY3RvcnlDb250ZW50cyA9IGF3YWl0IGZzLnJlYWRkaXIodXBkYXRlQnVuZGxlUGF0aCk7XG4gIHJldHVybiBkaXJlY3RvcnlDb250ZW50cy5pbmNsdWRlcygncm9sbGJhY2snKSA/IFVwZGF0ZVR5cGUuUk9MTEJBQ0sgOiBVcGRhdGVUeXBlLk5PUk1BTF9VUERBVEU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHB1dFVwZGF0ZUluUmVzcG9uc2VBc3luYyhcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2UsXG4gIHVwZGF0ZUJ1bmRsZVBhdGg6IHN0cmluZyxcbiAgcnVudGltZVZlcnNpb246IHN0cmluZyxcbiAgcGxhdGZvcm06IHN0cmluZyxcbiAgcHJvdG9jb2xWZXJzaW9uOiBudW1iZXJcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBjdXJyZW50VXBkYXRlSWQgPSByZXEuaGVhZGVyc1snZXhwby1jdXJyZW50LXVwZGF0ZS1pZCddO1xuICBjb25zdCB7IG1ldGFkYXRhSnNvbiwgY3JlYXRlZEF0LCBpZCB9ID0gYXdhaXQgZ2V0TWV0YWRhdGFBc3luYyh7XG4gICAgdXBkYXRlQnVuZGxlUGF0aCxcbiAgICBydW50aW1lVmVyc2lvbixcbiAgfSk7XG5cbiAgLy8gTm9VcGRhdGVBdmFpbGFibGUgZGlyZWN0aXZlIG9ubHkgc3VwcG9ydGVkIG9uIHByb3RvY29sIHZlcnNpb24gMVxuICAvLyBmb3IgcHJvdG9jb2wgdmVyc2lvbiAwLCBzZXJ2ZSBtb3N0IHJlY2VudCB1cGRhdGUgYXMgbm9ybWFsXG4gIGlmIChjdXJyZW50VXBkYXRlSWQgPT09IGlkICYmIHByb3RvY29sVmVyc2lvbiA9PT0gMSkge1xuICAgIHRocm93IG5ldyBOb1VwZGF0ZUF2YWlsYWJsZUVycm9yKCk7XG4gIH1cblxuICBjb25zdCBleHBvQ29uZmlnID0gYXdhaXQgZ2V0RXhwb0NvbmZpZ0FzeW5jKHtcbiAgICB1cGRhdGVCdW5kbGVQYXRoLFxuICAgIHJ1bnRpbWVWZXJzaW9uLFxuICB9KTtcbiAgY29uc3QgcGxhdGZvcm1TcGVjaWZpY01ldGFkYXRhID0gbWV0YWRhdGFKc29uLmZpbGVNZXRhZGF0YVtwbGF0Zm9ybV07XG4gIGNvbnN0IG1hbmlmZXN0ID0ge1xuICAgIGlkOiBjb252ZXJ0U0hBMjU2SGFzaFRvVVVJRChpZCksXG4gICAgY3JlYXRlZEF0LFxuICAgIHJ1bnRpbWVWZXJzaW9uLFxuICAgIGFzc2V0czogYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAocGxhdGZvcm1TcGVjaWZpY01ldGFkYXRhLmFzc2V0cyBhcyBhbnlbXSkubWFwKChhc3NldDogYW55KSA9PlxuICAgICAgICBnZXRBc3NldE1ldGFkYXRhQXN5bmMoe1xuICAgICAgICAgIHVwZGF0ZUJ1bmRsZVBhdGgsXG4gICAgICAgICAgZmlsZVBhdGg6IGFzc2V0LnBhdGgsXG4gICAgICAgICAgZXh0OiBhc3NldC5leHQsXG4gICAgICAgICAgcnVudGltZVZlcnNpb24sXG4gICAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgICAgaXNMYXVuY2hBc3NldDogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKSxcbiAgICBsYXVuY2hBc3NldDogYXdhaXQgZ2V0QXNzZXRNZXRhZGF0YUFzeW5jKHtcbiAgICAgIHVwZGF0ZUJ1bmRsZVBhdGgsXG4gICAgICBmaWxlUGF0aDogcGxhdGZvcm1TcGVjaWZpY01ldGFkYXRhLmJ1bmRsZSxcbiAgICAgIGlzTGF1bmNoQXNzZXQ6IHRydWUsXG4gICAgICBydW50aW1lVmVyc2lvbixcbiAgICAgIHBsYXRmb3JtLFxuICAgICAgZXh0OiBudWxsLFxuICAgIH0pLFxuICAgIG1ldGFkYXRhOiB7fSxcbiAgICBleHRyYToge1xuICAgICAgZXhwb0NsaWVudDogZXhwb0NvbmZpZyxcbiAgICB9LFxuICB9O1xuXG4gIGxldCBzaWduYXR1cmUgPSBudWxsO1xuICBjb25zdCBleHBlY3RTaWduYXR1cmVIZWFkZXIgPSByZXEuaGVhZGVyc1snZXhwby1leHBlY3Qtc2lnbmF0dXJlJ107XG4gIGlmIChleHBlY3RTaWduYXR1cmVIZWFkZXIpIHtcbiAgICBjb25zdCBwcml2YXRlS2V5ID0gYXdhaXQgZ2V0UHJpdmF0ZUtleUFzeW5jKCk7XG4gICAgaWYgKCFwcml2YXRlS2V5KSB7XG4gICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdDb2RlIHNpZ25pbmcgcmVxdWVzdGVkIGJ1dCBubyBrZXkgc3VwcGxpZWQgd2hlbiBzdGFydGluZyBzZXJ2ZXIuJyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtYW5pZmVzdFN0cmluZyA9IEpTT04uc3RyaW5naWZ5KG1hbmlmZXN0KTtcbiAgICBjb25zdCBoYXNoU2lnbmF0dXJlID0gc2lnblJTQVNIQTI1NihtYW5pZmVzdFN0cmluZywgcHJpdmF0ZUtleSk7XG4gICAgY29uc3QgZGljdGlvbmFyeSA9IGNvbnZlcnRUb0RpY3Rpb25hcnlJdGVtc1JlcHJlc2VudGF0aW9uKHtcbiAgICAgIHNpZzogaGFzaFNpZ25hdHVyZSxcbiAgICAgIGtleWlkOiAnbWFpbicsXG4gICAgfSk7XG4gICAgc2lnbmF0dXJlID0gc2VyaWFsaXplRGljdGlvbmFyeShkaWN0aW9uYXJ5KTtcbiAgfVxuXG4gIGNvbnN0IGFzc2V0UmVxdWVzdEhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogb2JqZWN0IH0gPSB7fTtcbiAgWy4uLm1hbmlmZXN0LmFzc2V0cywgbWFuaWZlc3QubGF1bmNoQXNzZXRdLmZvckVhY2goKGFzc2V0KSA9PiB7XG4gICAgYXNzZXRSZXF1ZXN0SGVhZGVyc1thc3NldC5rZXldID0ge1xuICAgICAgJ3Rlc3QtaGVhZGVyJzogJ3Rlc3QtaGVhZGVyLXZhbHVlJyxcbiAgICB9O1xuICB9KTtcblxuICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gIGZvcm0uYXBwZW5kKCdtYW5pZmVzdCcsIEpTT04uc3RyaW5naWZ5KG1hbmlmZXN0KSwge1xuICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgaGVhZGVyOiB7XG4gICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgLi4uKHNpZ25hdHVyZSA/IHsgJ2V4cG8tc2lnbmF0dXJlJzogc2lnbmF0dXJlIH0gOiB7fSksXG4gICAgfSxcbiAgfSk7XG4gIGZvcm0uYXBwZW5kKCdleHRlbnNpb25zJywgSlNPTi5zdHJpbmdpZnkoeyBhc3NldFJlcXVlc3RIZWFkZXJzIH0pLCB7XG4gICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSk7XG5cbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJlcy5zZXRIZWFkZXIoJ2V4cG8tcHJvdG9jb2wtdmVyc2lvbicsIHByb3RvY29sVmVyc2lvbik7XG4gIHJlcy5zZXRIZWFkZXIoJ2V4cG8tc2Z2LXZlcnNpb24nLCAwKTtcbiAgcmVzLnNldEhlYWRlcignY2FjaGUtY29udHJvbCcsICdwcml2YXRlLCBtYXgtYWdlPTAnKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC10eXBlJywgYG11bHRpcGFydC9taXhlZDsgYm91bmRhcnk9JHtmb3JtLmdldEJvdW5kYXJ5KCl9YCk7XG4gIHJlcy53cml0ZShmb3JtLmdldEJ1ZmZlcigpKTtcbiAgcmVzLmVuZCgpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBwdXRSb2xsQmFja0luUmVzcG9uc2VBc3luYyhcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2UsXG4gIHVwZGF0ZUJ1bmRsZVBhdGg6IHN0cmluZyxcbiAgcHJvdG9jb2xWZXJzaW9uOiBudW1iZXJcbik6IFByb21pc2U8dm9pZD4ge1xuICBpZiAocHJvdG9jb2xWZXJzaW9uID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSb2xsYmFja3Mgbm90IHN1cHBvcnRlZCBvbiBwcm90b2NvbCB2ZXJzaW9uIDAnKTtcbiAgfVxuXG4gIGNvbnN0IGVtYmVkZGVkVXBkYXRlSWQgPSByZXEuaGVhZGVyc1snZXhwby1lbWJlZGRlZC11cGRhdGUtaWQnXTtcbiAgaWYgKCFlbWJlZGRlZFVwZGF0ZUlkIHx8IHR5cGVvZiBlbWJlZGRlZFVwZGF0ZUlkICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBFeHBvLUVtYmVkZGVkLVVwZGF0ZS1JRCByZXF1ZXN0IGhlYWRlciBzcGVjaWZpZWQuJyk7XG4gIH1cblxuICBjb25zdCBjdXJyZW50VXBkYXRlSWQgPSByZXEuaGVhZGVyc1snZXhwby1jdXJyZW50LXVwZGF0ZS1pZCddO1xuICBpZiAoY3VycmVudFVwZGF0ZUlkID09PSBlbWJlZGRlZFVwZGF0ZUlkKSB7XG4gICAgdGhyb3cgbmV3IE5vVXBkYXRlQXZhaWxhYmxlRXJyb3IoKTtcbiAgfVxuXG4gIGNvbnN0IGRpcmVjdGl2ZSA9IGF3YWl0IGNyZWF0ZVJvbGxCYWNrRGlyZWN0aXZlQXN5bmModXBkYXRlQnVuZGxlUGF0aCk7XG5cbiAgbGV0IHNpZ25hdHVyZSA9IG51bGw7XG4gIGNvbnN0IGV4cGVjdFNpZ25hdHVyZUhlYWRlciA9IHJlcS5oZWFkZXJzWydleHBvLWV4cGVjdC1zaWduYXR1cmUnXTtcbiAgaWYgKGV4cGVjdFNpZ25hdHVyZUhlYWRlcikge1xuICAgIGNvbnN0IHByaXZhdGVLZXkgPSBhd2FpdCBnZXRQcml2YXRlS2V5QXN5bmMoKTtcbiAgICBpZiAoIXByaXZhdGVLZXkpIHtcbiAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgcmVzLmpzb24oe1xuICAgICAgICBlcnJvcjogJ0NvZGUgc2lnbmluZyByZXF1ZXN0ZWQgYnV0IG5vIGtleSBzdXBwbGllZCB3aGVuIHN0YXJ0aW5nIHNlcnZlci4nLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRpcmVjdGl2ZVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGRpcmVjdGl2ZSk7XG4gICAgY29uc3QgaGFzaFNpZ25hdHVyZSA9IHNpZ25SU0FTSEEyNTYoZGlyZWN0aXZlU3RyaW5nLCBwcml2YXRlS2V5KTtcbiAgICBjb25zdCBkaWN0aW9uYXJ5ID0gY29udmVydFRvRGljdGlvbmFyeUl0ZW1zUmVwcmVzZW50YXRpb24oe1xuICAgICAgc2lnOiBoYXNoU2lnbmF0dXJlLFxuICAgICAga2V5aWQ6ICdtYWluJyxcbiAgICB9KTtcbiAgICBzaWduYXR1cmUgPSBzZXJpYWxpemVEaWN0aW9uYXJ5KGRpY3Rpb25hcnkpO1xuICB9XG5cbiAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3JtLmFwcGVuZCgnZGlyZWN0aXZlJywgSlNPTi5zdHJpbmdpZnkoZGlyZWN0aXZlKSwge1xuICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgaGVhZGVyOiB7XG4gICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgLi4uKHNpZ25hdHVyZSA/IHsgJ2V4cG8tc2lnbmF0dXJlJzogc2lnbmF0dXJlIH0gOiB7fSksXG4gICAgfSxcbiAgfSk7XG5cbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJlcy5zZXRIZWFkZXIoJ2V4cG8tcHJvdG9jb2wtdmVyc2lvbicsIDEpO1xuICByZXMuc2V0SGVhZGVyKCdleHBvLXNmdi12ZXJzaW9uJywgMCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NhY2hlLWNvbnRyb2wnLCAncHJpdmF0ZSwgbWF4LWFnZT0wJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtdHlwZScsIGBtdWx0aXBhcnQvbWl4ZWQ7IGJvdW5kYXJ5PSR7Zm9ybS5nZXRCb3VuZGFyeSgpfWApO1xuICByZXMud3JpdGUoZm9ybS5nZXRCdWZmZXIoKSk7XG4gIHJlcy5lbmQoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHV0Tm9VcGRhdGVBdmFpbGFibGVJblJlc3BvbnNlQXN5bmMoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlLFxuICBwcm90b2NvbFZlcnNpb246IG51bWJlclxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChwcm90b2NvbFZlcnNpb24gPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vVXBkYXRlQXZhaWxhYmxlIGRpcmVjdGl2ZSBub3QgYXZhaWxhYmxlIGluIHByb3RvY29sIHZlcnNpb24gMCcpO1xuICB9XG5cbiAgY29uc3QgZGlyZWN0aXZlID0gYXdhaXQgY3JlYXRlTm9VcGRhdGVBdmFpbGFibGVEaXJlY3RpdmVBc3luYygpO1xuXG4gIGxldCBzaWduYXR1cmUgPSBudWxsO1xuICBjb25zdCBleHBlY3RTaWduYXR1cmVIZWFkZXIgPSByZXEuaGVhZGVyc1snZXhwby1leHBlY3Qtc2lnbmF0dXJlJ107XG4gIGlmIChleHBlY3RTaWduYXR1cmVIZWFkZXIpIHtcbiAgICBjb25zdCBwcml2YXRlS2V5ID0gYXdhaXQgZ2V0UHJpdmF0ZUtleUFzeW5jKCk7XG4gICAgaWYgKCFwcml2YXRlS2V5KSB7XG4gICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdDb2RlIHNpZ25pbmcgcmVxdWVzdGVkIGJ1dCBubyBrZXkgc3VwcGxpZWQgd2hlbiBzdGFydGluZyBzZXJ2ZXIuJyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkaXJlY3RpdmVTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShkaXJlY3RpdmUpO1xuICAgIGNvbnN0IGhhc2hTaWduYXR1cmUgPSBzaWduUlNBU0hBMjU2KGRpcmVjdGl2ZVN0cmluZywgcHJpdmF0ZUtleSk7XG4gICAgY29uc3QgZGljdGlvbmFyeSA9IGNvbnZlcnRUb0RpY3Rpb25hcnlJdGVtc1JlcHJlc2VudGF0aW9uKHtcbiAgICAgIHNpZzogaGFzaFNpZ25hdHVyZSxcbiAgICAgIGtleWlkOiAnbWFpbicsXG4gICAgfSk7XG4gICAgc2lnbmF0dXJlID0gc2VyaWFsaXplRGljdGlvbmFyeShkaWN0aW9uYXJ5KTtcbiAgfVxuXG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgZm9ybS5hcHBlbmQoJ2RpcmVjdGl2ZScsIEpTT04uc3RyaW5naWZ5KGRpcmVjdGl2ZSksIHtcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIGhlYWRlcjoge1xuICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgIC4uLihzaWduYXR1cmUgPyB7ICdleHBvLXNpZ25hdHVyZSc6IHNpZ25hdHVyZSB9IDoge30pLFxuICAgIH0sXG4gIH0pO1xuXG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXMuc2V0SGVhZGVyKCdleHBvLXByb3RvY29sLXZlcnNpb24nLCAxKTtcbiAgcmVzLnNldEhlYWRlcignZXhwby1zZnYtdmVyc2lvbicsIDApO1xuICByZXMuc2V0SGVhZGVyKCdjYWNoZS1jb250cm9sJywgJ3ByaXZhdGUsIG1heC1hZ2U9MCcpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LXR5cGUnLCBgbXVsdGlwYXJ0L21peGVkOyBib3VuZGFyeT0ke2Zvcm0uZ2V0Qm91bmRhcnkoKX1gKTtcbiAgcmVzLndyaXRlKGZvcm0uZ2V0QnVmZmVyKCkpO1xuICByZXMuZW5kKCk7XG59XG4iXSwibmFtZXMiOlsiRm9ybURhdGEiLCJmcyIsInNlcmlhbGl6ZURpY3Rpb25hcnkiLCJnZXRBc3NldE1ldGFkYXRhQXN5bmMiLCJnZXRNZXRhZGF0YUFzeW5jIiwiY29udmVydFNIQTI1Nkhhc2hUb1VVSUQiLCJjb252ZXJ0VG9EaWN0aW9uYXJ5SXRlbXNSZXByZXNlbnRhdGlvbiIsInNpZ25SU0FTSEEyNTYiLCJnZXRQcml2YXRlS2V5QXN5bmMiLCJnZXRFeHBvQ29uZmlnQXN5bmMiLCJnZXRMYXRlc3RVcGRhdGVCdW5kbGVQYXRoRm9yUnVudGltZVZlcnNpb25Bc3luYyIsImNyZWF0ZVJvbGxCYWNrRGlyZWN0aXZlQXN5bmMiLCJOb1VwZGF0ZUF2YWlsYWJsZUVycm9yIiwiY3JlYXRlTm9VcGRhdGVBdmFpbGFibGVEaXJlY3RpdmVBc3luYyIsIm1hbmlmZXN0RW5kcG9pbnQiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXNDb2RlIiwianNvbiIsImVycm9yIiwicHJvdG9jb2xWZXJzaW9uTWF5YmVBcnJheSIsImhlYWRlcnMiLCJBcnJheSIsImlzQXJyYXkiLCJwcm90b2NvbFZlcnNpb24iLCJwYXJzZUludCIsInBsYXRmb3JtIiwicXVlcnkiLCJydW50aW1lVmVyc2lvbiIsInVwZGF0ZUJ1bmRsZVBhdGgiLCJtZXNzYWdlIiwidXBkYXRlVHlwZSIsImdldFR5cGVPZlVwZGF0ZUFzeW5jIiwiVXBkYXRlVHlwZSIsIk5PUk1BTF9VUERBVEUiLCJwdXRVcGRhdGVJblJlc3BvbnNlQXN5bmMiLCJST0xMQkFDSyIsInB1dFJvbGxCYWNrSW5SZXNwb25zZUFzeW5jIiwibWF5YmVOb1VwZGF0ZUF2YWlsYWJsZUVycm9yIiwicHV0Tm9VcGRhdGVBdmFpbGFibGVJblJlc3BvbnNlQXN5bmMiLCJjb25zb2xlIiwiZGlyZWN0b3J5Q29udGVudHMiLCJyZWFkZGlyIiwiaW5jbHVkZXMiLCJjdXJyZW50VXBkYXRlSWQiLCJtZXRhZGF0YUpzb24iLCJjcmVhdGVkQXQiLCJpZCIsImV4cG9Db25maWciLCJwbGF0Zm9ybVNwZWNpZmljTWV0YWRhdGEiLCJmaWxlTWV0YWRhdGEiLCJtYW5pZmVzdCIsImFzc2V0cyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJhc3NldCIsImZpbGVQYXRoIiwicGF0aCIsImV4dCIsImlzTGF1bmNoQXNzZXQiLCJsYXVuY2hBc3NldCIsImJ1bmRsZSIsIm1ldGFkYXRhIiwiZXh0cmEiLCJleHBvQ2xpZW50Iiwic2lnbmF0dXJlIiwiZXhwZWN0U2lnbmF0dXJlSGVhZGVyIiwicHJpdmF0ZUtleSIsIm1hbmlmZXN0U3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImhhc2hTaWduYXR1cmUiLCJkaWN0aW9uYXJ5Iiwic2lnIiwia2V5aWQiLCJhc3NldFJlcXVlc3RIZWFkZXJzIiwiZm9yRWFjaCIsImtleSIsImZvcm0iLCJhcHBlbmQiLCJjb250ZW50VHlwZSIsImhlYWRlciIsInNldEhlYWRlciIsImdldEJvdW5kYXJ5Iiwid3JpdGUiLCJnZXRCdWZmZXIiLCJlbmQiLCJFcnJvciIsImVtYmVkZGVkVXBkYXRlSWQiLCJkaXJlY3RpdmUiLCJkaXJlY3RpdmVTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/manifest.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/manifest.ts"));
module.exports = __webpack_exports__;

})();